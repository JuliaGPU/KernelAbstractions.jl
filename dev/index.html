<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · KernelAbstractions.jl</title><link rel="canonical" href="https://juliagpu.github.io/KernelAbstractions.jl/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">KernelAbstractions.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Supported-backends-1"><span>Supported backends</span></a></li><li><a class="tocitem" href="#Semantic-differences-1"><span>Semantic differences</span></a></li><li><a class="tocitem" href="#Contributing-1"><span>Contributing</span></a></li></ul></li><li><a class="tocitem" href="quickstart/">Quickstart</a></li><li><a class="tocitem" href="kernels/">Writing kernels</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="examples/memcopy/">Memcopy</a></li><li><a class="tocitem" href="examples/memcopy_static/">Memcopy with static NDRange</a></li><li><a class="tocitem" href="examples/naive_transpose/">Naive Transpose</a></li><li><a class="tocitem" href="examples/performance/">Measuring performance</a></li><li><a class="tocitem" href="examples/matmul/">Matmul</a></li></ul></li><li><a class="tocitem" href="api/">API</a></li><li><span class="tocitem">Extras</span><ul><li><a class="tocitem" href="extras/unrolling/">Unroll macro</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaGPU/KernelAbstractions.jl/blob/master/docs/src/index.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="KernelAbstractions-1"><a class="docs-heading-anchor" href="#KernelAbstractions-1">KernelAbstractions</a><a class="docs-heading-anchor-permalink" href="#KernelAbstractions-1" title="Permalink"></a></h1><p><a href="https://github.com/JuliaGPU/KernelAbstractions.jl"><code>KernelAbstractions.jl</code></a> (KA) is a package that allows you to write GPU-like kernels targetting different execution backends. KA intends to be a minimal and performant library that explores ways to write heterogeneous code. Although parts of the package are still experimental, it has been used successfully as part of the <a href="https://www.exascaleproject.org/">Exascale Computing Project</a> to run Julia code on pre-<a href="https://www.olcf.ornl.gov/frontier/">Frontier</a> and pre-<a href="https://www.alcf.anl.gov/aurora">Aurora</a> systems. Currently, profiling and debugging require backend-specific calls like, for example, in <a href="https://cuda.juliagpu.org/dev/development/profiling/"><code>CUDA.jl</code></a>.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>While KernelAbstraction.jl is focused on performance portability, it emulates GPU semantics and therefore the kernel language has several constructs that are necessary for good performance on the GPU, but serve no purpose on the CPU. In these cases, we either ignore such statements entirely (such as with <code>@synchronize</code>) or swap out the construct for something similar on the CPU (such as using an <code>MVector</code>  to replace <code>@localmem</code>). This means that CPU performance will still be fast, but might be performing extra work to provide a consistent programming model across GPU and CPU</p></div></div><h2 id="Supported-backends-1"><a class="docs-heading-anchor" href="#Supported-backends-1">Supported backends</a><a class="docs-heading-anchor-permalink" href="#Supported-backends-1" title="Permalink"></a></h2><p>All supported backends rely on their respective Julia interface to the compiler backend and depend on <a href="https://github.com/JuliaGPU/GPUArrays.jl"><code>GPUArrays.jl</code></a> and <a href="https://github.com/JuliaGPU/GPUCompiler.jl"><code>GPUCompiler.jl</code></a>. KA provides interface kernel generation modules to those packages in <a href="https://github.com/JuliaGPU/KernelAbstractions.jl/tree/master/lib"><code>/lib</code></a>. After loading the kernel packages, KA will provide a <code>KA.Device</code> for that backend to be used in the kernel generation stage.</p><h3 id="CUDA-1"><a class="docs-heading-anchor" href="#CUDA-1">CUDA</a><a class="docs-heading-anchor-permalink" href="#CUDA-1" title="Permalink"></a></h3><pre><code class="language-julia">using CUDA
using KernelAbstractions
using CUDAKernels</code></pre><p><a href="https://github.com/JuliaGPU/CUDA.jl"><code>CUDA.jl</code></a> is currently the most mature way to program for GPUs. This provides a device <code>CUDADevice &lt;: KA.Device</code> to</p><h3 id="AMDGPU-1"><a class="docs-heading-anchor" href="#AMDGPU-1">AMDGPU</a><a class="docs-heading-anchor-permalink" href="#AMDGPU-1" title="Permalink"></a></h3><pre><code class="language-julia">using AMDGPU
using KernelAbstractions
using ROCKernels</code></pre><p>Experimental AMDGPU (ROCm) support is available via the <a href="https://github.com/JuliaGPU/AMDGPU.jl"><code>AMDGPU.jl</code></a> and <code>ROCKernels.jl</code>. It provides the device <code>ROCDevice &lt;: KA.Device</code>. Please get in touch with <code>@jpsamaroo</code> for any issues specific to the ROCKernels backend.</p><h3 id="oneAPI-1"><a class="docs-heading-anchor" href="#oneAPI-1">oneAPI</a><a class="docs-heading-anchor-permalink" href="#oneAPI-1" title="Permalink"></a></h3><p>Experimental support for Intel GPUs has also been added through the oneAPI Intel Compute Runtime interfaced to in <a href="https://github.com/JuliaGPU/oneAPI.jl"><code>oneAPI.jl</code></a></p><h2 id="Semantic-differences-1"><a class="docs-heading-anchor" href="#Semantic-differences-1">Semantic differences</a><a class="docs-heading-anchor-permalink" href="#Semantic-differences-1" title="Permalink"></a></h2><h3 id="To-Julia-1"><a class="docs-heading-anchor" href="#To-Julia-1">To Julia</a><a class="docs-heading-anchor-permalink" href="#To-Julia-1" title="Permalink"></a></h3><ol><li>Functions inside kernels are forcefully inlined, except when marked with <code>@noinline</code>.</li><li>Floating-point multiplication, addition, subtraction are marked contractable.</li></ol><h3 id="To-CUDA.jl/AMDGPU.jl-1"><a class="docs-heading-anchor" href="#To-CUDA.jl/AMDGPU.jl-1">To CUDA.jl/AMDGPU.jl</a><a class="docs-heading-anchor-permalink" href="#To-CUDA.jl/AMDGPU.jl-1" title="Permalink"></a></h3><ol><li>The kernels are automatically bounds-checked against either the dynamic or statically provided <code>ndrange</code>.</li><li>Functions like <code>Base.sin</code> are mapped to <code>CUDA.sin</code>/<code>AMDGPU.sin</code>.</li></ol><h3 id="To-GPUifyLoops.jl-1"><a class="docs-heading-anchor" href="#To-GPUifyLoops.jl-1">To GPUifyLoops.jl</a><a class="docs-heading-anchor-permalink" href="#To-GPUifyLoops.jl-1" title="Permalink"></a></h3><ol><li><code>@scratch</code> has been renamed to <code>@private</code>, and the semantics have changed. Instead of denoting how many dimensions are implicit on the GPU, you only ever provide the explicit number of dimensions that you require. The implicit CPU dimensions are appended.</li></ol><h2 id="Contributing-1"><a class="docs-heading-anchor" href="#Contributing-1">Contributing</a><a class="docs-heading-anchor-permalink" href="#Contributing-1" title="Permalink"></a></h2><p>Please file any bug reports through Github issues or fixes through a pull request. Any heterogeneous hardware or code aficionados is welcome to join us on our journey.</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="quickstart/">Quickstart »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 19 November 2022 14:37">Saturday 19 November 2022</span>. Using Julia version 1.8.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
